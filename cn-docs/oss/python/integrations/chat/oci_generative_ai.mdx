---
title: ChatOCIGenAI
---
本指南提供了 OCIGenAI [聊天模型](/oss/langchain/models) 的快速入门概览。有关 ChatOCIGenAI 所有功能和配置的详细文档，请参阅 [API 参考](https://python.langchain.com/api_reference/community/chat_models/langchain_community.chat_models.oci_generative_ai.ChatOCIGenAI.html)。

Oracle Cloud Infrastructure (OCI) Generative AI 是一项全托管服务，提供一套涵盖广泛用例的、可定制的最先进大型语言模型 (LLMs)，并通过单一 API 提供。使用 OCI Generative AI 服务，您可以访问开箱即用的预训练模型，也可以在专用的 AI 集群上基于您自己的数据创建和托管您自己微调的自定义模型。该服务和 API 的详细文档可在此处 __[查看](https://docs.oracle.com/en-us/iaas/Content/generative-ai/home.htm)__ 和 __[此处](https://docs.oracle.com/en-us/iaas/api/#/en/generative-ai/20231130/)__。

## 概述

### 集成详情

| 类 | 包 | 可序列化 | [JS 支持](https://js.langchain.com/docs/integrations/chat/oci_generative_ai) |
| :--- | :--- | :---: |  :---: |
| [ChatOCIGenAI](https://python.langchain.com/api_reference/community/chat_models/langchain_community.chat_models.oci_generative_ai.ChatOCIGenAI.html) | [langchain-community](https://python.langchain.com/api_reference/community/index.html) | ❌ | ❌ |

### 模型特性

| [工具调用](/oss/langchain/tools/) | [结构化输出](/oss/langchain/structured-output) | [图像输入](/oss/langchain/messages#multimodal) | 音频输入 | 视频输入 | [令牌级流式传输](/oss/langchain/streaming/) | 原生异步 | [令牌使用量](/oss/langchain/models#token-usage) | [对数概率](/oss/langchain/models#log-probabilities) |
| :---: | :---: | :---: |  :---: | :---: | :---: | :---: | :---: | :---: |
| ✅ | ✅ | ✅ | ❌ | ❌ | ✅ | ❌ | ❌ | ❌ |

## 设置

要访问 OCIGenAI 模型，您需要安装 `oci` 和 `langchain-community` 包。

### 凭证

此集成支持的凭证和身份验证方法与其他 OCI 服务使用的相同，并遵循 __[标准 SDK 身份验证](https://docs.oracle.com/en-us/iaas/Content/API/Concepts/sdk_authentication_methods.htm)__ 方法，具体包括 API 密钥、会话令牌、实例主体和资源主体。

API 密钥是上述示例中使用的默认身份验证方法。以下示例演示了如何使用不同的身份验证方法（会话令牌）。

### 安装

LangChain OCIGenAI 集成位于 `langchain-community` 包中，您还需要安装 `oci` 包：

```python
pip install -qU langchain-community oci
```

## 实例化

现在我们可以实例化我们的模型对象并生成聊天补全：

```python
from langchain_community.chat_models.oci_generative_ai import ChatOCIGenAI
from langchain.messages import AIMessage, HumanMessage, SystemMessage

chat = ChatOCIGenAI(
    model_id="cohere.command-r-16k",
    service_endpoint="https://inference.generativeai.us-chicago-1.oci.oraclecloud.com",
    compartment_id="MY_OCID",
    model_kwargs={"temperature": 0.7, "max_tokens": 500},
)
```

## 调用

```python
messages = [
    SystemMessage(content="your are an AI assistant."),
    AIMessage(content="Hi there human!"),
    HumanMessage(content="tell me a joke."),
]
response = chat.invoke(messages)
```

```python
print(response.content)
```

## API 参考

有关 ChatOCIGenAI 所有功能和配置的详细文档，请参阅 API 参考：[python.langchain.com/api_reference/community/chat_models/langchain_community.chat_models.oci_generative_ai.ChatOCIGenAI.html](https://python.langchain.com/api_reference/community/chat_models/langchain_community.chat_models.oci_generative_ai.ChatOCIGenAI.html)
