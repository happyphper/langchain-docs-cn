---
title: 常见问题
sidebarTitle: FAQs
---
## 可观测性

### *我无法在用户界面中创建 API 密钥或管理用户，这是怎么回事？*

* 您很可能是在未设置单点登录（SSO）的情况下部署了 LangSmith。LangSmith 需要 SSO 来管理用户和 API 密钥。您可以在[配置部分](/langsmith/self-host-sso)找到有关设置 SSO 的更多信息。

### *负载均衡/入口（ingress）如何工作？*

* 您需要将前端容器/服务暴露给您的应用程序/用户。这将处理到所有下游服务的路由。
* 您需要在入口（ingress）层终止 SSL。我们建议使用托管服务，如 AWS ALB、GCP 负载均衡器或 Nginx。

### *我们如何对应用程序进行身份验证？*

* 目前，我们的自托管解决方案支持使用 OAuth2.0 和 OIDC 作为身份验证（authn）解决方案的 SSO。请注意，我们也提供无身份验证的解决方案，但强烈建议在投入生产环境之前设置好 OAuth。

您可以在[配置部分](/langsmith/self-host-sso)找到有关设置 SSO 的更多信息。

### *我可以使用外部存储服务吗？*

* 您可以配置 LangSmith 以使用所有存储服务的外部版本。在生产环境中，我们强烈建议使用外部存储服务。请查看[配置部分](/langsmith/self-hosted)以获取更多信息。

### *我的应用程序是否需要出站（egress）连接才能正常运行？*

我们的部署仅需为少数事项建立出站连接（其中大部分可以驻留在您的 VPC 内）：

* 获取镜像（如果镜像已本地化，则可能不需要）
* 与任何 LLM 端点通信
* 与您可能配置的任何外部存储服务通信
* 获取 OAuth 信息
* 订阅指标和操作元数据（如果未在离线模式下运行）
  * 需要出站连接到 `https://beacon.langchain.com`
  * 有关详细信息，请参阅[出站连接](/langsmith/self-host-egress)

您的 VPC 可以设置规则来限制任何其他访问。注意：我们需要允许 `X-Organization-Id` 和 `X-Tenant-Id` 标头传递到后端服务。这些标头用于确定请求是针对哪个组织和哪个工作空间（以前称为"租户"）。

### *应用程序的资源要求是什么？*

* 在 Kubernetes 中，我们建议的最低 Helm 配置可以在[此处](https://github.com/langchain-ai/helm/blob/main/charts/langsmith/examples/medium_size.yaml)找到。对于 Docker，我们建议至少 16GB 内存和 4 个 CPU。
* 对于 Postgres，我们建议至少 8GB 内存和 2 个 CPU。
* 对于 Redis，我们建议 4GB 内存和 2 个 CPU。
* 对于 Clickhouse，我们建议 32GB 内存和 8 个 CPU。

### SAML SSO 常见问题解答

#### *如何更改 SAML SSO 用户的电子邮件地址？*

一些身份提供商（IdP）在电子邮件更改后会保留原始的 `用户 ID`，而另一些则不会，因此我们建议您按照以下步骤操作，以避免在 LangSmith 中出现重复用户：

1. 从组织中移除该用户（参见[此处](/langsmith/set-up-hierarchy#manage-users)）
2. 在身份提供商（IdP）中更改他们的电子邮件地址
3. 让他们通过 SAML SSO 再次登录 LangSmith - 这将触发通常的[即时（JIT）配置](#just-in-time-jit-provisioning)流程，并使用他们的新电子邮件地址

目前不支持通过 SCIM 或其他方式更改具有多个关联登录方法的用户的电子邮件地址。会显示此错误信息：`email update not supported with linked login methods`。例如，如果用户之前通过电子邮件/密码或 Google 社交登录登录，然后通过 SSO 以相同的电子邮件地址被添加，则不支持更改他们的电子邮件地址。这适用于自托管和云端版本。

#### *我可以更改身份提供商（IdP）吗？*

如需迁移支持，请通过我们的门户网站 [https://support.langchain.com](https://support.langchain.com) 联系 LangChain 支持团队。

#### *如何修复"405 方法不允许"错误？*

请确保您使用的是正确的 ACS URL：[https://auth.langchain.com/auth/v1/sso/saml/acs](https://auth.langchain.com/auth/v1/sso/saml/acs)

### SCIM 常见问题解答

#### *能否在不使用 SAML SSO 的情况下使用 SCIM？*

* **云端部署**：不可以，云端部署的 SCIM 需要 SAML SSO
* **自托管部署**：可以，SCIM 可与 OAuth 配合使用，采用客户端密钥认证模式

#### *如果同时启用了 JIT 用户配置和 SCIM 会怎样？*

JIT 用户配置和 SCIM 可能会相互冲突。建议在启用 SCIM 前先禁用 JIT 用户配置，以确保用户配置行为的一致性。

#### *如何更改用户的角色或工作空间访问权限？*

在您的身份提供商（IdP）中更新用户的群组成员资格。根据[角色优先级规则](#role-precedence)，这些更改将同步到 LangSmith。

#### *当用户从所有群组中移除时会发生什么？*

根据您的身份提供商（IdP）的取消配置设置，该用户将从您的 LangSmith 组织中取消配置。

#### *能否使用自定义群组名称？*

可以。如果您的身份提供商支持将备用字段同步到 `displayName` 群组属性，您可以使用备用属性（如 `description`）作为 LangSmith 中的 `displayName`，并完全保留身份提供商群组名称的可定制性。否则，群组必须遵循[群组命名约定](#group-naming-convention)部分描述的特定命名约定，才能正确映射到 LangSmith 角色和工作空间。

#### _为什么我的 Okta 集成无法正常工作？_

请参阅 Okta 的故障排除指南：https://help.okta.com/en-us/content/topics/users-groups-profiles/usgp-group-push-troubleshoot.htm。

## 部署

### 使用 LangGraph 是否需要使用 LangChain？它们之间有什么区别？

不需要。LangGraph 是一个用于复杂智能体（agent）系统的编排框架，比 LangChain 的智能体（agent）更底层且更可控。LangChain 提供了一个与模型和其他组件交互的标准接口，适用于简单的链式流程和检索流程。

### LangGraph 与其他智能体（agent）框架有何不同？

其他智能体（agent）框架可能适用于简单、通用的任务，但在处理公司特定需求的复杂任务时则显不足。LangGraph 提供了一个更具表现力的框架，能够处理公司的独特任务，而不会将用户限制在单一的黑盒认知架构中。

### LangGraph 会影响我的应用程序性能吗？

LangGraph 不会给您的代码增加任何开销，并且是专门为流式工作流设计的。

### LangGraph 是开源的吗？是免费的吗？

是的。LangGraph 是一个采用 MIT 许可证的开源库，可以免费使用。

### LangGraph 和 LangSmith 有什么区别？

LangGraph 是一个有状态的编排框架，为智能体（agent）工作流提供了更强的控制力。LangSmith 是一项用于部署和扩展智能体（agent）应用程序的服务，它提供了一个用于构建智能体（agent）用户体验（UX）的规范性 API，以及一个集成的开发者界面（UI）。

| 特性                | LangGraph（开源）                                          | LangSmith                                                                                     |
|---------------------|-----------------------------------------------------------|--------------------------------------------------------------------------------------------------------|
| 描述                | 面向智能体应用的有状态编排框架                              | 用于部署 LangGraph 应用的可扩展基础设施                                                               |
| SDK                 | Python 和 JavaScript                                      | Python 和 JavaScript                                                                                  |
| HTTP API            | 无                                                        | 支持 - 适用于检索和更新状态或长期记忆，或创建可配置的助手                                              |
| 流式传输            | 基础功能                                                  | 专为逐令牌消息设计的模式                                                                               |
| 检查点              | 社区贡献                                                  | 开箱即用支持                                                                                           |
| 持久层              | 自行管理                                                  | 托管的 Postgres，具备高效存储                                                                          |
| 部署                | 自行管理                                                  | • 云端 <br /> • 免费自托管 <br /> • 企业版（付费自托管）                                      |
| 可扩展性            | 自行管理                                                  | 任务队列和服务器的自动扩展                                                                             |
| 容错性              | 自行管理                                                  | 自动重试                                                                                               |
| 并发控制            | 简单线程                                                  | 支持双重文本处理                                                                                       |
| 调度                | 无                                                        | Cron 调度                                                                                             |
| 监控                | 无                                                        | 与 LangSmith 集成以实现可观测性                                                                        |
| IDE 集成            | Studio                                          | Studio                                                                                       |

### LangSmith 是开源的吗？

不是。LangSmith 是专有软件。

LangSmith 有一个免费的自托管版本，提供基础功能。云端部署选项和自托管部署选项是付费服务。[联系我们的销售团队](https://www.langchain.com/contact-sales)以了解更多信息。

更多信息，请参阅我们的 [LangSmith 定价页面](https://www.langchain.com/pricing)。

### LangGraph 是否支持不支持工具调用的 LLM？

是的！您可以将 LangGraph 与任何 LLM 一起使用。我们使用支持工具调用的 LLM 的主要原因是，这通常是让 LLM 决定下一步操作最便捷的方式。如果您的 LLM 不支持工具调用，您仍然可以使用它——您只需要编写一些逻辑，将原始的 LLM 字符串响应转换为关于下一步操作的决策。

### LangGraph 是否支持开源 LLM？

是的！LangGraph 对底层使用的 LLM 完全持中立态度。我们在大多数教程中使用闭源 LLM 的主要原因是它们无缝支持工具调用，而开源 LLM 通常不支持。但工具调用并非必需（参见[此章节](#does-langgraph-work-with-llms-that-dont-support-tool-calling)），因此你完全可以搭配开源 LLM 使用 LangGraph。

### 不登录 LangSmith 可以使用 Studio 吗？

可以！你可以使用[开发版的 Agent Server](/langsmith/local-server) 在本地运行后端。这将连接到作为 LangSmith 一部分托管的 Studio 前端。如果你设置环境变量 `LANGSMISH_TRACING=false`，则不会向 LangSmith 发送任何追踪记录。

### 什么是部署运行（Deployment Run）？

部署运行是通过 LangSmith 部署的 LangGraph 智能体的一次端到端调用。节点和子图不会单独计费。对其他 LangGraph 智能体的调用（通过 RemoteGraph、LangGraph SDK 或直接通过 API）会单独计费，费用由托管被调用智能体的部署承担。人机协同（human-in-the-loop）中的中断在恢复时会创建一个单独的部署运行。
