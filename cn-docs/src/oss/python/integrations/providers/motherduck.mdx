---
title: MotherDuck
---
>[MotherDuck](https://motherduck.com/) 是一个由 DuckDB 提供支持的云数据仓库。

## 安装与设置

首先，你需要安装 `duckdb` Python 包。

<CodeGroup>
```bash pip
pip install duckdb
```

```bash uv
uv add duckdb
```
</CodeGroup>

你还需要在 [MotherDuck](https://motherduck.com/) 注册一个账户。

之后，你需要设置一个连接字符串——我们主要通过 SQLAlchemy 与 Motherduck 集成。
连接字符串的格式通常如下：

```
token="..."

conn_str = f"duckdb:///md:my_db?motherduck_token={token}"
```

关于更多身份验证选项，请参阅 [MotherDuck SQLAlchemy 文档](https://motherduck.com/docs/integrations/language-apis-and-drivers/python/sqlalchemy/)。

## SQLChain

你可以使用 SQLChain 以自然语言查询你的 MotherDuck 实例中的数据。

```
from langchain_openai import OpenAI
from langchain_community.utilities import SQLDatabase
from langchain_experimental.sql import SQLDatabaseChain
db = SQLDatabase.from_uri(conn_str)
db_chain = SQLDatabaseChain.from_llm(OpenAI(temperature=0), db, verbose=True)
```


## LLMCache

你也可以轻松地使用 MotherDuck 来缓存 LLM 请求。
同样，这是通过 SQLAlchemy 包装器完成的。

```
import sqlalchemy
from langchain.globals import set_llm_cache
eng = sqlalchemy.create_engine(conn_str)
set_llm_cache(SQLAlchemyCache(engine=eng))
```
