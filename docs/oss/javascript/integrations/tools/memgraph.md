---
title: MemgraphToolkit
---
这将帮助您开始使用 Memgraph [工具包](/oss/javascript/langchain/tools#toolkits)。

`MemgraphToolkit` 中的工具设计用于与 `Memgraph` 数据库进行交互。

## 设置

为了能够执行以下步骤，请确保您的本地主机上有一个正在运行的 Memgraph 实例。有关如何运行 Memgraph 的更多详细信息，请查看 [Memgraph 文档](https://memgraph.com/docs/getting-started)。

如果您希望从单个工具的运行中获取自动化追踪，也可以通过取消注释以下代码来设置您的 [LangSmith](https://docs.langchain.com/langsmith/home) API 密钥：

```python
os.environ["LANGSMITH_API_KEY"] = getpass.getpass("Enter your LangSmith API key: ")
os.environ["LANGSMITH_TRACING"] = "true"
```

### 安装

此工具包位于 `langchain-memgraph` 包中：

```python
pip install -qU langchain-memgraph
```

## 实例化

现在我们可以实例化我们的工具包：

```python
from langchain.chat_models import init_chat_model
from langchain_memgraph import MemgraphToolkit
from langchain_memgraph.graphs.memgraph import MemgraphLangChain

db = MemgraphLangChain(url=url, username=username, password=password)

model = init_chat_model("gpt-4o-mini", model_provider="openai")

toolkit = MemgraphToolkit(
    db=db,  # Memgraph 实例
    llm=model,  # 用于 LLM 操作的 LLM 聊天模型
)
```

## 工具

查看可用工具：

```python
toolkit.get_tools()
```

## 调用

可以通过传递参数来单独调用工具，对于 `QueryMemgraphTool`，调用方式如下：

```python
from langchain_memgraph.tools import QueryMemgraphTool

# 为简洁起见，省略了其余代码

tool.invoke({QueryMemgraphTool({"query": "MATCH (n) RETURN n LIMIT 5"})})
```

## 在代理中使用

```python
from langchain.agents import create_agent

agent_executor = create_agent(model, tools)
```

```python
example_query = "MATCH (n) RETURN n LIMIT 1"

events = agent_executor.stream(
    {"messages": [("user", example_query)]},
    stream_mode="values",
)
for event in events:
    event["messages"][-1].pretty_print()
```

---

## API 参考

有关 API 的更多详细信息，请访问 [Memgraph 集成文档](https://memgraph.com/docs/ai-ecosystem/integrations#langchain)。
