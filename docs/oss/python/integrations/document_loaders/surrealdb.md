---
title: SurrealDB
---
>[SurrealDB](https://surrealdb.com/) 是一款专为现代应用设计的端到端云原生数据库，适用于 Web、移动、无服务器、Jamstack、后端以及传统应用。使用 SurrealDB，您可以简化数据库和 API 基础设施，减少开发时间，并快速、经济高效地构建安全、高性能的应用程序。

>**SurrealDB 的主要特性包括：**
>
>* **减少开发时间：** SurrealDB 通过移除对大多数服务器端组件的需求，简化了您的数据库和 API 技术栈，使您能够更快、更经济地构建安全、高性能的应用程序。
>* **实时协作式 API 后端服务：** SurrealDB 兼具数据库和 API 后端服务的功能，支持实时协作。
>* **支持多种查询语言：** SurrealDB 支持从客户端设备进行 SQL 查询、GraphQL、ACID 事务、WebSocket 连接、结构化和非结构化数据、图查询、全文索引以及地理空间查询。
>* **细粒度访问控制：** SurrealDB 提供基于行级权限的访问控制，使您能够精确管理数据访问。

查看 [特性](https://surrealdb.com/features)、最新 [版本](https://surrealdb.com/releases) 和 [文档](https://surrealdb.com/docs)。

本笔记本展示了如何使用与 `SurrealDBLoader` 相关的功能。

## 概述

SurrealDB 文档加载器从 SurrealDB 数据库返回一个 LangChain 文档列表。

该文档加载器接受以下可选参数：

* `dburl`：连接到 WebSocket 端点的连接字符串。默认值：`ws://localhost:8000/rpc`
* `ns`：命名空间名称。默认值：`langchain`
* `db`：数据库名称。默认值：`database`
* `table`：表名称。默认值：`documents`
* `db_user`：SurrealDB 凭据（如果需要）：数据库用户名。
* `db_pass`：SurrealDB 凭据（如果需要）：数据库密码。
* `filter_criteria`：用于构建 `WHERE` 子句以过滤表结果的字典。

输出的 <a href="https://reference.langchain.com/python/langchain_core/documents/#langchain_core.documents.base.Document" target="_blank" rel="noreferrer" class="link"><code>Document</code></a> 采用以下形式：

```
Document(
    page_content=<包含结果文档的 JSON 编码字符串>,
    metadata={
        'id': <文档 ID>,
        'ns': <命名空间名称>,
        'db': <数据库名称>,
        'table': <表名称>,
        ... <来自文档 metadata 属性的其他字段>
    }
)
```

## 设置

取消注释以下单元格以安装 surrealdb 和 langchain。

```python
# pip install -qU  surrealdb langchain langchain-community
```

```python
# 在 Jupyter notebook 中运行需添加此导入
import nest_asyncio

nest_asyncio.apply()
```

```python
import json

from langchain_community.document_loaders.surrealdb import SurrealDBLoader
```

```python
loader = SurrealDBLoader(
    dburl="ws://localhost:8000/rpc",
    ns="langchain",
    db="database",
    table="documents",
    db_user="root",
    db_pass="root",
    filter_criteria={},
)
docs = loader.load()
len(docs)
```

```text
42
```

```python
doc = docs[-1]
doc.metadata
```

```text
{'id': 'documents:zzz434sa584xl3b4ohvk',
 'source': '../../how_to/state_of_the_union.txt',
 'ns': 'langchain',
 'db': 'database',
 'table': 'documents'}
```

```python
len(doc.page_content)
```

```text
18078
```

```python
page_content = json.loads(doc.page_content)
```

```python
page_content["text"]
```

```text
'When we use taxpayer dollars to rebuild America – we are going to Buy American: buy American products to support American jobs. \n\nThe federal government spends about $600 Billion a year to keep the country safe and secure. \n\nThere’s been a law on the books for almost a century \nto make sure taxpayers’ dollars support American jobs and businesses. \n\nEvery Administration says they’ll do it, but we are actually doing it. \n\nWe will buy American to make sure everything from the deck of an aircraft carrier to the steel on highway guardrails are made in America. \n\nBut to compete for the best jobs of the future, we also need to level the playing field with China and other competitors. \n\nThat’s why it is so important to pass the Bipartisan Innovation Act sitting in Congress that will make record investments in emerging technologies and American manufacturing. \n\nLet me give you one example of why it’s so important to pass it.'
```
