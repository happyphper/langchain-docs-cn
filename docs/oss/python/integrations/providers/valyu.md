---
title: Valyu 深度搜索
---
>[Valyu](https://www.valyu.network/) 允许 AI 应用和智能体在互联网及专有数据源中搜索相关的、可供大语言模型（LLM）使用的信息。

本笔记本将介绍如何在 LangChain 中使用 Valyu。

首先，获取一个 Valyu API 密钥并将其设置为环境变量。通过[在此注册](https://platform.valyu.network/)，您可以获得 10 美元的免费额度。

## 设置

该集成位于 `langchain-valyu` 包中。

```python
pip install -qU langchain-valyu
```

为了使用该包，您还需要将 `VALYU_API_KEY` 环境变量设置为您自己的 Valyu API 密钥。

## 上下文检索器

您可以在标准的检索流程中使用 [`ValyuContextRetriever`](https://pypi.org/project/langchain-valyu/)。

```python
from langchain_valyu import ValyuRetriever

valyu_api_key = "YOUR API KEY"

# 创建 ValyuRetriever 的新实例
valyu_retriever = ValyuRetriever(
    k=5,
    search_type="all",
    relevance_threshold=0.5,
    max_price=20.0,
    start_date="2024-01-01",
    end_date="2024-12-31",
    valyu_api_key=valyu_api_key,
)

# 搜索查询并保存结果
docs = valyu_retriever.invoke("What are the benefits of renewable energy?")

# 打印结果
for doc in docs:
    print(doc.page_content)
    print(doc.metadata)
```

## 上下文搜索工具

您可以使用 `ValyuSearchTool` 进行高级搜索查询。

```python
from langchain_valyu import ValyuSearchTool

# 初始化 ValyuSearchTool
search_tool = ValyuSearchTool(valyu_api_key="YOUR API KEY")

# 执行搜索查询
search_results = search_tool._run(
    query="What are agentic search-enhanced large reasoning models?",
    search_type="all",
    max_num_results=5,
    relevance_threshold=0.5,
    max_price=20.0,
    start_date="2024-01-01",
    end_date="2024-12-31",
)

print("Search Results:", search_results)
```
